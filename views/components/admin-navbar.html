<nav class="navbar admin-navbar">
    <div class="container">
        <div class="navbar-content">
            <a href="/admin/dashboard" class="navbar-brand">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                    <rect width="32" height="32" rx="8" fill="#0E1F3D"/>
                    <path d="M16 8L8 14v10h5v-6h6v6h5V14l-8-6z" fill="#E6B57E"/>
                </svg>
                <span>Andika <strong>Admin</strong></span>
            </a>

            <ul class="navbar-menu">
                <li><a href="/admin/dashboard" class="nav-link" data-page="dashboard">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                    </svg>
                    Dashboard
                </a></li>
                <li><a href="/admin/users" class="nav-link" data-page="users">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                    Users
                </a></li>
                <li><a href="/admin/transactions" class="nav-link" data-page="transactions">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/>
                    </svg>
                    Transactions
                </a></li>
                <li><a href="/admin/disputes" class="nav-link" data-page="disputes">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                    </svg>
                    Disputes
                </a></li>
            </ul>

            <div class="navbar-actions">
                <div class="admin-profile">
                    <div class="admin-info">
                        <span class="admin-name" id="admin-name">Admin</span>
                        <span class="admin-role">Administrator</span>
                    </div>
                    <button class="btn btn-sm btn-outline" onclick="handleAdminLogout()">
                        Logout
                    </button>
                </div>
            </div>

            <button class="mobile-menu-toggle" id="mobile-menu-toggle">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                </svg>
            </button>
        </div>
    </div>
</nav>

<script>
// Highlight active page
const currentPath = window.location.pathname;
document.querySelectorAll('.nav-link').forEach(link => {
    const page = link.getAttribute('data-page');
    if (currentPath.includes(page)) {
        link.classList.add('active');
    }
});

// Mobile menu toggle
const mobileToggle = document.getElementById('mobile-menu-toggle');
const navbarMenu = document.querySelector('.navbar-menu');

mobileToggle?.addEventListener('click', () => {
    navbarMenu.classList.toggle('show');
});

// Load admin name
const adminUser = JSON.parse(localStorage.getItem('user') || '{}');
const adminNameEl = document.getElementById('admin-name');
if (adminNameEl && adminUser.username) {
    adminNameEl.textContent = adminUser.username;
}

// Logout handler
function handleAdminLogout() {
    if (confirm('Are you sure you want to logout?')) {
        localStorage.removeItem('token');
        localStorage.removeItem('user');
        window.location.href = '/login';
    }
}
</script>